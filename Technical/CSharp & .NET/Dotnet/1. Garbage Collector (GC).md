Garbage Collector (GC) trong .NET Framework và .NET Core thu gom và giải phóng bộ nhớ của các đối tượng không còn được tham chiếu bởi ứng dụng. Điều này giúp quản lý bộ nhớ một cách tự động và tránh tình trạng rò rỉ bộ nhớ. Dưới đây là các chi tiết về cách hoạt động của GC và loại bộ nhớ mà GC thu gom:

## Các thế hệ bộ nhớ (Generations)
GC trong .NET sử dụng một mô hình phân thế hệ để quản lý và thu gom bộ nhớ hiệu quả hơn. Bộ nhớ được chia thành ba thế hệ:
1. **Generation 0 (Gen 0)**:
    - Chứa các đối tượng mới được tạo ra.
    - Thu gom Gen 0 thường xuyên nhất.
    - Mục tiêu là nhanh chóng giải phóng các đối tượng có tuổi thọ ngắn.
2. **Generation 1 (Gen 1)**:
    - Chứa các đối tượng sống sót sau một hoặc nhiều lần thu gom Gen 0.
    - Được xem như một vùng đệm giữa Gen 0 và Gen 2.
    - Thu gom ít thường xuyên hơn Gen 0.
3. **Generation 2 (Gen 2)**:
    - Chứa các đối tượng sống sót qua nhiều lần thu gom của Gen 1.
    - Các đối tượng trong Gen 2 thường có tuổi thọ dài hơn.
    - Thu gom ít thường xuyên nhất, nhưng thời gian thu gom dài nhất.

## Khi nào GC thu gom bộ nhớ?

GC thu gom bộ nhớ trong các tình huống sau:
1. **Thiếu bộ nhớ**:
    - Khi hệ thống không còn đủ bộ nhớ trống để phân bổ cho các đối tượng mới, GC sẽ được kích hoạt để thu gom các đối tượng không còn được tham chiếu.
2. **Quá trình ứng dụng**:
    - GC cũng có thể được kích hoạt khi ứng dụng phân bổ nhiều bộ nhớ hoặc khi có sự thay đổi lớn trong yêu cầu bộ nhớ của ứng dụng.
3. **Manual Trigger (GC.Collect)**:
    - Mặc dù không được khuyến khích, bạn có thể ép buộc GC chạy bằng cách gọi `GC.Collect()`. Tuy nhiên, điều này có thể ảnh hưởng đến hiệu suất nếu không sử dụng đúng cách.

## Các loại bộ nhớ mà GC thu gom

GC trong .NET thu gom các loại bộ nhớ sau:
1. **Managed Heap**:
    - Đây là bộ nhớ do CLR quản lý. GC thu gom các đối tượng trên heap này. Managed heap được chia thành các thế hệ như đã nêu trên.
2. **Large Object Heap (LOH)**:
    - Chứa các đối tượng lớn (thường là các đối tượng có kích thước lớn hơn 85,000 byte).
    - Đối tượng trong LOH được thu gom trong quá trình thu gom Gen 2.
## 8.1. Quá tải toán tử trong C#
Quá tải toán tử (Operator Overloading) trong C#, giúp bạn định nghĩa mới (hoặc định nghĩa lại) hoạt động của các toán tử trên những đối tượng lớp do bạn định nghĩa.

Giờ bạn muốn có phép toán `+` trên những đối tượng sinh ra từ lớp này, ví dụ:
```CSharp
MyVector v1 = new MyVector(2,3);
MyVector v2 = new MyVector(3,4);

MyVector v3 = v1 + v2;
```

Nghĩa là `v1 + v2` sẽ tạo ra một đối tượng mới

Để định nghĩa toán tử `+`, nó định nghĩa giống phương thức thay tên bằng từ khóa `operator` và ký hiệu toán tử `+`, toán tử có kiểu trả về `MyVector`, hai toán hạng bên trái và bên phải đểu là đối tượng lớp `MyVector` nghĩa làm tham số trong định nghĩa là 2 đối tượng này.

Cho thêm định nghĩa sau vào lớp MyVector
```CSharp
public static MyVector operator+(MyVector a, MyVector b)
{
    double sx = a.x + b.x;
    double sy = a.x + b.y;
    MyVector v = new MyVector(sx,sy);
    return v;
}
```

Giờ đã có thể sử dụng toán tử `+` chạy thử đoạn code
```CSharp
MyVector v1 = new MyVector(2,3);
MyVector v2 = new MyVector(3,4);

MyVector v3 = v1 + v2;
v3.ShowXY();
```

Kết quả
```
x = 5
y = 6
```


## 8.2 Indexer
`Indexer` là khả năng cho cho phép truy cập đến các thành viên của lớp, thực hiện một số tác vụ thông qua ký hiệu chỉ mục `[chỉ-mục]` (ký hiệu chỉ mục được dùng để truy cập các phần tử mảng - trình bày ở phần mảng C#)
Để khai báo một bộ chỉ mục, khai báo gần giống như cú pháp khai báo [thuộc tính lớp, setter/getter](https://xuanthulab.net/su-dung-lop-thuoc-tinh-trong-c-tao-va-su-dung-doi-tuong-lop.html#Properties) , cú pháp cơ bản như sau:

```CSharp
public kiểu_trả_về this[kiểu_index index]
{
    get {
        // thực hiện các tác vụ và trả về dữ liệu có kiểu_trả_về
     }
    set {
        // giá trị được truyền trong biến value, có thể lưu nó vào nơi thích hợp
     }
}
```
Ví dụ có lớp `IndexerExam` chứa hai thành viên dữ liệu `ho` và `ten`, ta thử định nghĩa bộ chỉ mục số nguyên, nếu chỉ mục là 0 thì truy cập đến dữ liệu họ và 1 là tên
class Index
```Csharp
class IndexerExam {
    string ho = "Nguyễn";
    string ten = "Nam";

    // Bộ chỉ mục số nguyên, chỉ mục là 0 hoặc 1 nếu khác sẽ phát sinh Exception
    public string this[int index]
    {
        // Đọc dữ liệu theo chỉ mục
        get {
            if (index == 0) return ho;
            else if (index == 1) return ten;
            else throw new Exception("Chỉ số không tồn tại");
         }

         // Gán dữ liệu theo chỉ mục
        set {
            if (index == 0)  ho = value;
            else if (index == 1) ten = value;
            else throw new Exception("Chỉ số không tồn tại");
        }
    }

}
```

Giờ thì đối tượng lớp `IndexerExam` truy cập được bằng ký hiệu `[]`, ví dụ:
```CSharp
IndexerExam obj = new IndexerExam();

Console.WriteLine(obj[0] + " " + obj[1]);      // đọc obj.ho và obj.ten
obj[0] = "Đinh";                               // gán obj.ho
obj[1] = "Quang Hưng";                         // gán obj.name
Console.WriteLine(obj[0] + " " + obj[1]);      // đọc obj.ho và obj.ten

// Kết quả chạy:
// Nguyễn Nam
// Đinh Quang Hưng
```